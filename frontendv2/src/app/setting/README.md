[戻る](../README.md)

# setting

主な責務は以下の通り

- ユーザー設定の定義
- vaultから読み出した値のパース
- vaultへの保存

# 依存の流れ

依存は以下のように流れている
`settings`->`settingVault`->`useSetting`

## `settings`

型を定義する。
ローカルストレージに値を保存するに当たってのキーを定義する。

## `settingVault`

vaultを介してローカルストレージにアクセスし、

- 値を取得すると共に、`settings`に定義された型やTemporal（外部ライブラリ）を使って、vaultから返される文字列をパースする。
- 渡されたオブジェクトを文字列に変換してvaultを介して保存する。

キーを渡して、保存するために`settings`でキーを定めている。

## `useSetting`

settingVaultをコンポーネントで使えるようにするための関数を定義する。
すなわち、適切なタイミングで再レンダリングが行えるようにstateを用いる。
（適切にsetStateができれば適切なタイミングで再レンダリングできるはずである。）
